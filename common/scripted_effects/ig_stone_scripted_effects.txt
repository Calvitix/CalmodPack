# I spent a lot of time on this mod out of my own free time, and nobody would like it if someone took their creation
# and stole it, and tried to claim it as thier's. If you want to learn to mod Stellaris, I'm not the best person to
# ask, but I'm always open to help and if you'd like to make new features or add-ons to this mod, send me a message,
# and we'll discuss together about either integrating them into this mod, or creating an add-on to this one.

remove_infinity_stone_modifiers_on_stone_lost = {
    if = {
        limit = { NOT = { has_relic = r_power_stone } }
        remove_modifier = "power_stone"
        remove_modifier = "infinity_circuit_power_space"
        remove_modifier = "infinity_circuit_mind_power"
    }
    if = {
        limit = { NOT = { has_relic = r_time_stone } }
        remove_modifier = "time_stone"
        remove_modifier = "infinity_circuit_space_time"
        remove_modifier = "infinity_circuit_time_reality_one"
        remove_modifier = "infinity_circuit_time_reality_two"
        remove_modifier = "infinity_circuit_time_reality_three"
    }
    if = {
        limit = { NOT = { has_relic = r_reality_stone } }
        remove_modifier = "reality_stone"
        remove_modifier = "infinity_circuit_reality_soul_one"
        remove_modifier = "infinity_circuit_reality_soul_two"
        remove_modifier = "infinity_circuit_reality_soul_three"
        remove_modifier = "infinity_circuit_reality_soul_four"
        remove_modifier = "infinity_circuit_reality_soul_five"
        remove_modifier = "infinity_circuit_time_reality_one"
        remove_modifier = "infinity_circuit_time_reality_two"
        remove_modifier = "infinity_circuit_time_reality_three"
    }
    if = {
        limit = { NOT = { has_relic = r_soul_stone } }
        remove_modifier = "soul_stone"
        remove_modifier = "infinity_circuit_reality_soul_one"
        remove_modifier = "infinity_circuit_reality_soul_two"
        remove_modifier = "infinity_circuit_reality_soul_three"
        remove_modifier = "infinity_circuit_reality_soul_four"
        remove_modifier = "infinity_circuit_reality_soul_five"
        remove_modifier = "infinity_circuit_soul_mind"
        country_event = { id = ig_maintenance.25 }
    }
    if = {
        limit = { NOT = { has_relic = r_mind_stone } }
        remove_modifier = "mind_stone"
        remove_modifier = "infinity_circuit_mind_power"
        remove_modifier = "infinity_circuit_soul_mind"
    }
    if = {
        limit = { NOT = { has_relic = r_space_stone } }
        remove_modifier = "space_stone"
        remove_modifier = "infinity_circuit_power_space"
        remove_modifier = "infinity_circuit_space_time"
    }
}

remove_all_infinity_stone_modifiers = {
    remove_modifier = "power_stone"
    remove_modifier = "infinity_circuit_power_space"
    remove_modifier = "time_stone"
    remove_modifier = "infinity_circuit_time_reality_one"
    remove_modifier = "infinity_circuit_time_reality_two"
    remove_modifier = "infinity_circuit_time_reality_three"
    remove_modifier = "reality_stone"
    remove_modifier = "infinity_circuit_reality_soul_one"
    remove_modifier = "infinity_circuit_reality_soul_two"
    remove_modifier = "infinity_circuit_reality_soul_three"
    remove_modifier = "infinity_circuit_reality_soul_four"
    remove_modifier = "infinity_circuit_reality_soul_five"
    remove_modifier = "soul_stone"
    remove_modifier = "infinity_circuit_soul_mind"
    remove_modifier = "mind_stone"
    remove_modifier = "infinity_circuit_mind_power"
    remove_modifier = "space_stone"
    remove_modifier = "infinity_circuit_space_time"
}

distribute_power_stone = {
    remove_relic = r_power_stone
    hidden_effect = {
        remove_infinity_stone_modifiers_on_stone_lost = yes
        random_playable_country = {
            limit = { valid_to_recieve_infinity_stone = yes }
            country_event = { id = ig_maintenance.53 days = 180 random = 180 } #Power Stone
        }
    }
}

distribute_time_stone = {
    remove_relic = r_time_stone
    hidden_effect = {
        remove_infinity_stone_modifiers_on_stone_lost = yes
        random_playable_country = {
            limit = { valid_to_recieve_infinity_stone = yes }
            country_event = { id = ig_maintenance.56 days = 180 random = 180 } #Time Stone
        }
    }
}

distribute_reality_stone = {
    remove_relic = r_reality_stone
    hidden_effect = {
        remove_infinity_stone_modifiers_on_stone_lost = yes
        random_playable_country = {
            limit = { valid_to_recieve_infinity_stone = yes }
            country_event = { id = ig_maintenance.59 days = 180 random = 180 } #reality Stone
        }
    }
}

distribute_soul_stone = {
    remove_relic = r_soul_stone
    hidden_effect = {
        remove_infinity_stone_modifiers_on_stone_lost = yes
        random_playable_country = {
            limit = { valid_to_recieve_infinity_stone = yes }
            country_event = { id = ig_maintenance.62 days = 180 random = 180 } #soul Stone
        }
    }
}

distribute_mind_stone = {
    remove_relic = r_mind_stone
    hidden_effect = {
        remove_infinity_stone_modifiers_on_stone_lost = yes
        random_playable_country = {
            limit = { valid_to_recieve_infinity_stone = yes }
            country_event = { id = ig_maintenance.65 days = 180 random = 180 } #mind Stone
        }
    }
}

distribute_space_stone = {
    remove_relic = r_space_stone
    hidden_effect = {
        remove_infinity_stone_modifiers_on_stone_lost = yes
        random_playable_country = {
            limit = { valid_to_recieve_infinity_stone = yes }
            country_event = { id = ig_maintenance.68 days = 180 random = 180 } #space Stone
        }
    }
}

#ig_undo_the_blip = {
#    every_country = {
#        every_owned_pop = {
#            limit = { NOT = { has_pop_flag = ig_cloned_pop } }
#            root = {
#                create_pop = {
#                    species = prev
#                    set_pop_flag = ig_cloned_pop
#                }
#            }
#        }
#    }
#}