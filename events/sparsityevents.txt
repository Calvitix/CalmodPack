namespace = sparsityevents

event = {
	id = sparsityevents.1
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		every_country = {
			limit = {
				not = { is_country_type = primitive }
				not = { is_country_type = fallen_empire }
				not = { is_country_type = awakened_fallen_empire }
				not = { is_country_type = enclave }
				not = { is_country_type = nomad }
				not = { is_country_type = dormant_marauders }
				not = { is_country_type = awakened_marauders }
				#not = { is_country_type = neutral_zone }				
			}
			if = {
				limit = {
					is_machine_empire = yes
				}								
				add_modifier = {
					modifier = sparsity_worker_nerf_machine
					days = -1
				}
			}
			else
			{
				add_modifier = {
					modifier = sparsity_worker_nerf
					days = -1
				}				
			}
		}
		every_galaxy_planet = {
			limit = {
				is_colonizable = no
				is_colony = no
				has_deposit_for = shipclass_mining_station
			}
			random_list = {
				75 = {}
				25 = {
					every_deposit = {
						remove_deposit = yes
					}
				}
			}
		}
	}
}

event = {
	id = sparsityevents.2
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		every_country = {
			limit = {
				not = { is_country_type = primitive }
				not = { is_country_type = fallen_empire }
				not = { is_country_type = awakened_fallen_empire }
				not = { is_country_type = enclave }
				not = { is_country_type = nomad }
				not = { is_country_type = dormant_marauders }
				not = { is_country_type = awakened_marauders }
				#not = { is_country_type = neutral_zone }				
			}
			
			if = {
				limit = { 
					has_global_flag = hemo_Dydiff_disabled
					or = {
						has_modifier = sparsity_worker_nerf				
						has_modifier = sparsity_worker_nerf_machine
					}
				}				
				remove_modifier = sparsity_worker_nerf
				remove_modifier = sparsity_worker_nerf_machine
			}
			else_if = {
				limit = { 
					not = { has_global_flag = hemo_Dydiff_disabled }
					not = { has_modifier = sparsity_worker_nerf	}
					not = { has_modifier = sparsity_worker_nerf_machine	}
				}				
				if = {
					limit = {
						is_machine_empire = yes
					}								
					add_modifier = {
						modifier = sparsity_worker_nerf_machine
						days = -1
					}
				}
				else
				{
					add_modifier = {
						modifier = sparsity_worker_nerf
						days = -1
					}				
				}
			}
		}
	}
}