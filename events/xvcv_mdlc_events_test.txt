namespace = xvcv_mdlc_test

country_event = {
	id = xvcv_mdlc_test.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {}
}













country_event = {
	id = xvcv_mdlc_test.99999
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_owned_leader = {
			limit = { NOT = { leader_class = ruler } }
			save_event_target_as = xvcv_test_leader_99999
		}
		create_leader = {
			class = general
			species = event_target:xvcv_test_leader_99999
			set_age = 1
			skill = 1
			effect = { set_name = "[xvcv_test_leader_99999.GetName]" } #name = "[xvcv_test_leader_99999.GetName]" didn't work above, but works here #hmmmm?
		}
		last_created_leader = {
			while = { add_skill = 1 count = event_target:xvcv_test_leader_99999.trigger:has_skill }
			add_skill = -1 #since the default skill level is 1 #and a clone of a level 1 leader should not have 2 skill levels
		}
	}
}