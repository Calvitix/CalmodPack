namespace = megalist

country_event = {
	id = megalist.0
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		is_ai = no
	}
	
	immediate = {
		if = {
			limit = { not = { has_event_chain = megalist } }
			begin_event_chain = { event_chain = megalist target = root }
		}
		every_owned_megastructure = {
			limit = { not =  { has_megastructure_flag = completed_mega } }
			root = { abort_special_project = { type = MEGALIST_ENTRY location = prev } }
			enable_special_project = { name = MEGALIST_ENTRY location = this }
		}
	}
}

country_event = {
	id = megalist.1
	hide_window = yes
	is_triggered_only = yes
	#from = megastructure
	
	trigger = {
		is_ai = no
	}
	
	immediate = {
		if = {
			limit = { not = { has_event_chain = megalist } }
			begin_event_chain = { event_chain = megalist target = root }
		}
		from = {
			enable_special_project = { name = MEGALIST_ENTRY location = this }
		}
	}
}