namespace = pasetc

country_event = {
	id = pasetc.1
	title = pasetc.1.name
	desc = pasetc.1.desc
	picture = GFX_evt_pasmod.1
	is_triggered_only = yes

	option = {
		name = pasetc.1.0
		allow = {
			custom_tooltip_fail = {
				text = pasetc.1.0.tooltipfail
				NOT = { has_global_flag = pasmod_set_devastation_0 }
			}
		}
		hidden_effect = {
			switch = {
				trigger = has_global_flag
				pasmod_set_devastation_0 = { remove_global_flag = pasmod_set_devastation_0 }
				pasmod_set_devastation_25 = { remove_global_flag = pasmod_set_devastation_25 }
				pasmod_set_devastation_50 = { remove_global_flag = pasmod_set_devastation_50 }
				pasmod_set_devastation_75 = { remove_global_flag = pasmod_set_devastation_75 }
				pasmod_set_devastation_100 = { remove_global_flag = pasmod_set_devastation_100 }
			}
			set_global_flag = pasmod_set_devastation_0
			country_event = { id = pasetc.1 }
		}
	}
	option = {
		name = pasetc.1.25
		allow = {
			custom_tooltip_fail = {
				text = pasetc.1.0.tooltipfail
				NOT = { has_global_flag = pasmod_set_devastation_25 }
			}
		}
		hidden_effect = {
			switch = {
				trigger = has_global_flag
				pasmod_set_devastation_0 = { remove_global_flag = pasmod_set_devastation_0 }
				pasmod_set_devastation_25 = { remove_global_flag = pasmod_set_devastation_25 }
				pasmod_set_devastation_50 = { remove_global_flag = pasmod_set_devastation_50 }
				pasmod_set_devastation_75 = { remove_global_flag = pasmod_set_devastation_75 }
				pasmod_set_devastation_100 = { remove_global_flag = pasmod_set_devastation_100 }
			}
			set_global_flag = pasmod_set_devastation_25
			country_event = { id = pasetc.1 }
		}
	}
	option = {
		name = pasetc.1.50
		allow = {
			custom_tooltip_fail = {
				text = pasetc.1.0.tooltipfail
				NOT = { has_global_flag = pasmod_set_devastation_50 }
			}
		}
		hidden_effect = {
			switch = {
				trigger = has_global_flag
				pasmod_set_devastation_0 = { remove_global_flag = pasmod_set_devastation_0 }
				pasmod_set_devastation_25 = { remove_global_flag = pasmod_set_devastation_25 }
				pasmod_set_devastation_50 = { remove_global_flag = pasmod_set_devastation_50 }
				pasmod_set_devastation_75 = { remove_global_flag = pasmod_set_devastation_75 }
				pasmod_set_devastation_100 = { remove_global_flag = pasmod_set_devastation_100 }
			}
			set_global_flag = pasmod_set_devastation_50
			country_event = { id = pasetc.1 }
		}
	}
	option = {
		name = pasetc.1.75
		allow = {
			custom_tooltip_fail = {
				text = pasetc.1.0.tooltipfail
				NOT = { has_global_flag = pasmod_set_devastation_75 }
			}
		}
		hidden_effect = {
			switch = {
				trigger = has_global_flag
				pasmod_set_devastation_0 = { remove_global_flag = pasmod_set_devastation_0 }
				pasmod_set_devastation_25 = { remove_global_flag = pasmod_set_devastation_25 }
				pasmod_set_devastation_50 = { remove_global_flag = pasmod_set_devastation_50 }
				pasmod_set_devastation_75 = { remove_global_flag = pasmod_set_devastation_75 }
				pasmod_set_devastation_100 = { remove_global_flag = pasmod_set_devastation_100 }
			}
			set_global_flag = pasmod_set_devastation_75
			country_event = { id = pasetc.1 }
		}
	}
	option = {
		name = pasetc.1.100
		allow = {
			custom_tooltip_fail = {
				text = pasetc.1.0.tooltipfail
				NOT = { has_global_flag = pasmod_set_devastation_100 }
			}
		}
		hidden_effect = {
			switch = {
				trigger = has_global_flag
				pasmod_set_devastation_0 = { remove_global_flag = pasmod_set_devastation_0 }
				pasmod_set_devastation_25 = { remove_global_flag = pasmod_set_devastation_25 }
				pasmod_set_devastation_50 = { remove_global_flag = pasmod_set_devastation_50 }
				pasmod_set_devastation_75 = { remove_global_flag = pasmod_set_devastation_75 }
				pasmod_set_devastation_100 = { remove_global_flag = pasmod_set_devastation_100 }
			}
			set_global_flag = pasmod_set_devastation_100
			country_event = { id = pasetc.1 }
		}
	}

	option = {
		name = pasetc.1.on #on, click to turn off
		custom_tooltip = pasmod.feature_on.tooltip #currently activated
	
		trigger = {
			has_global_flag = pasmod_main_feature
		}

		hidden_effect = {
			remove_global_flag = pasmod_main_feature
			country_event = { id = pasetc.1 }
		}
	}
	option = {
		name = pasetc.1.off #off, click to turn on
		custom_tooltip = pasmod.feature_off.tooltip #currently deactivated

		trigger = {
			NOT = { has_global_flag = pasmod_main_feature }
		}

		hidden_effect = {
			set_global_flag = pasmod_main_feature
			country_event = { id = pasetc.1 }
		}
	}

	option = {
		name = pasetc.1.close
	}
}